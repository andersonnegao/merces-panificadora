<!DOCTYPE html>
<html lang="pt-BR">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>MercÃªs Panificadora</title>
Â  <link rel="preconnect" href="https://fonts.googleapis.com">
Â  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
Â  <style>
Â  Â  :root {
Â  Â  Â  --bg: #0f0c07;
Â  Â  Â  --card: rgba(255,255,255,0.04);
Â  Â  Â  --text: #f8f5ed;
Â  Â  Â  --muted: #c9c3b5;
Â  Â  Â  --accent: #f4c56d;
Â  Â  Â  --accent-strong: #f08b2d;
Â  Â  Â  --danger: #ff6b6b;
Â  Â  Â  --success: #39d98a;
Â  Â  Â  --shadow: 0 18px 45px rgba(0,0,0,0.35);
Â  Â  Â  --radius: 18px;
Â  Â  }
Â  Â  * { box-sizing: border-box; }
Â  Â  html { scroll-behavior: smooth; }
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  background: radial-gradient(circle at 12% 20%, rgba(244,197,109,0.15), transparent 26%),
Â  Â  Â  Â  Â  Â  Â  Â  Â  radial-gradient(circle at 82% 4%, rgba(255,139,45,0.12), transparent 24%),
Â  Â  Â  Â  Â  Â  Â  Â  Â  var(--bg);
Â  Â  Â  color: var(--text);
Â  Â  Â  font-family: 'Inter', system-ui, -apple-system, sans-serif;
Â  Â  Â  min-height: 100vh;
Â  Â  }
Â  Â  a { color: inherit; text-decoration: none; }
Â  Â  img { max-width: 100%; display: block; }
Â  Â  button, input, select, textarea { font: inherit; }

Â  Â  header {
Â  Â  Â  position: sticky;
Â  Â  Â  top: 0; z-index: 10;
Â  Â  Â  backdrop-filter: blur(18px);
Â  Â  Â  background: rgba(15,12,7,0.82);
Â  Â  Â  border-bottom: 1px solid rgba(255,255,255,0.08);
Â  Â  }
Â  Â  .topbar {
Â  Â  Â  max-width: 1200px; margin: 0 auto;
Â  Â  Â  display: flex; align-items: center; justify-content: space-between;
Â  Â  Â  padding: 14px 18px;
Â  Â  Â  gap: 12px;
Â  Â  Â  flex-wrap: wrap;
Â  Â  }
Â  Â  .brand {
Â  Â  Â  display: flex; align-items: center; gap: 10px;
Â  Â  Â  font-weight: 800;
Â  Â  Â  letter-spacing: 0.04em;
Â  Â  }
Â  Â  .brand-mark {
Â  Â  Â  width: 38px; height: 38px; border-radius: 12px;
Â  Â  Â  background: linear-gradient(135deg, #f9d37f, #f08b2d);
Â  Â  Â  display: grid; place-items: center;
Â  Â  Â  color: #1a0f04; font-weight: 900;
Â  Â  Â  box-shadow: 0 10px 24px rgba(240,139,45,0.28);
Â  Â  }
Â  Â  nav { display: none; align-items: center; gap: 16px; font-size: 14px; color: var(--muted); }
Â  Â  nav a { padding: 8px 10px; border-radius: 12px; transition: .2s ease; }
Â  Â  nav a:hover { color: var(--text); background: rgba(255,255,255,0.06); }
Â  Â  @media (min-width: 720px) { nav { display: flex; } }

Â  Â  .header-search {
Â  Â  Â  flex: 1 1 260px;
Â  Â  Â  max-width: 420px;
Â  Â  Â  min-width: 180px;
Â  Â  }
Â  Â  .header-search input {
Â  Â  Â  width: 100%;
Â  Â  Â  padding: 10px 14px;
Â  Â  Â  border-radius: 14px;
Â  Â  Â  border: 1px solid rgba(255,255,255,0.12);
Â  Â  Â  background: rgba(255,255,255,0.04);
Â  Â  Â  color: var(--text);
Â  Â  }

Â  Â  .cart-button {
Â  Â  Â  display: inline-flex; align-items: center; gap: 8px;
Â  Â  Â  padding: 10px 14px;
Â  Â  Â  background: linear-gradient(135deg, #f9d37f, #f08b2d);
Â  Â  Â  color: #1c0f05;
Â  Â  Â  border-radius: 14px;
Â  Â  Â  font-weight: 800;
Â  Â  Â  border: none; cursor: pointer;
Â  Â  Â  box-shadow: 0 12px 28px rgba(240,139,45,0.35);
Â  Â  Â  transition: transform .15s ease;
Â  Â  }
Â  Â  .cart-button:active { transform: translateY(1px) scale(.99); }
Â  Â  .badge { min-width: 22px; height: 22px; border-radius: 50%; background: #1c0f05; color: #f9d37f; display: grid; place-items: center; font-size: 12px; font-weight: 800; }

Â  Â  .cart-overlay {
Â  Â  Â  position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
Â  Â  Â  display: none; align-items: flex-end; justify-content: center; padding: 16px; z-index: 30;
Â  Â  }
Â  Â  .cart-overlay.open { display: flex; }
Â  Â  .cart-drawer {
Â  Â  Â  width: min(480px, 100%); max-height: 88vh;
Â  Â  Â  background: rgba(18,14,9,0.94);
Â  Â  Â  border: 1px solid rgba(255,255,255,0.1);
Â  Â  Â  border-radius: 18px 18px 12px 12px;
Â  Â  Â  box-shadow: 0 22px 44px rgba(0,0,0,0.45);
Â  Â  Â  padding: 16px;
Â  Â  Â  display: grid; gap: 12px;
Â  Â  Â  overflow: hidden;
Â  Â  Â  animation: slideUp .22s ease;
Â  Â  }
Â  Â  @keyframes slideUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
Â  Â  .drawer-head { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
Â  Â  .drawer-body { overflow: auto; max-height: 50vh; padding-right: 4px; }
Â  Â  .drawer-actions { display: flex; justify-content: space-between; gap: 8px; flex-wrap: wrap; align-items: center; }
Â  Â  .drawer-close { border: none; background: rgba(255,255,255,0.08); color: var(--text); padding: 8px 10px; border-radius: 10px; cursor: pointer; }

Â  Â  main { max-width: 1200px; margin: 0 auto; padding: 18px; }
Â  Â  section { padding: 26px 0; }
Â  Â  h2.section-title { margin: 0 0 14px; font-size: 24px; letter-spacing: -0.02em; }
Â  Â  .section-sub { color: var(--muted); margin-bottom: 14px; }

Â  Â  .hero {
Â  Â  Â  display: grid; gap: 18px; align-items: center;
Â  Â  Â  background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
Â  Â  Â  border: 1px solid rgba(255,255,255,0.06);
Â  Â  Â  border-radius: 22px;
Â  Â  Â  padding: 22px;
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  }
Â  Â  .hero-title { font-size: clamp(28px, 6vw, 40px); line-height: 1.05; margin: 6px 0 10px; font-weight: 800; }
Â  Â  .hero-highlight { color: var(--accent); }
Â  Â  .hero-text { color: var(--muted); line-height: 1.6; margin-bottom: 16px; }
Â  Â  .hero-actions { display: flex; flex-wrap: wrap; gap: 12px; }
Â  Â  .btn {
Â  Â  Â  border: none; cursor: pointer; font-weight: 700; padding: 12px 16px; border-radius: 14px; transition: .2s ease; display: inline-flex; align-items: center; gap: 8px;
Â  Â  }
Â  Â  .btn-primary { background: linear-gradient(135deg, #f9d37f, #f08b2d); color: #1b0f05; box-shadow: 0 14px 30px rgba(240,139,45,0.32); }
Â  Â  .btn-secondary { background: rgba(255,255,255,0.06); color: var(--text); border: 1px solid rgba(255,255,255,0.08); }
Â  Â  .btn:active { transform: translateY(1px) scale(.99); }

Â  Â  .chip-row { display: flex; gap: 8px; flex-wrap: wrap; }

Â  Â  .view {
Â  Â  Â  display: none;
Â  Â  }
Â  Â  .view.active {
Â  Â  Â  display: block;
Â  Â  }
Â  Â  .btn-primary { background: linear-gradient(135deg, #f9d37f, #f08b2d); color: #1b0f05; box-shadow: 0 14px 30px rgba(240,139,45,0.32); }
Â  Â  .btn-secondary { background: rgba(255,255,255,0.06); color: var(--text); border: 1px solid rgba(255,255,255,0.08); }
Â  Â  .btn:active { transform: translateY(1px) scale(.99); }

Â  Â  .category-grid, .subcategory-grid {
Â  Â  Â  display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
Â  Â  }
Â  Â  .category-card {
Â  Â  Â  background: var(--card);
Â  Â  Â  border: 1px solid rgba(255,255,255,0.07);
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  padding: 14px;
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  Â  cursor: pointer;
Â  Â  Â  display: grid; gap: 10px;
Â  Â  Â  transition: transform 0.2s ease;
Â  Â  }
Â  Â  .category-card:hover { transform: translateY(-3px); }
Â  Â  .category-image {
Â  Â  Â  height: 140px;
Â  Â  Â  border-radius: 14px;
Â  Â  Â  overflow: hidden;
Â  Â  Â  background: linear-gradient(135deg, rgba(249,211,127,0.18), rgba(240,139,45,0.18));
Â  Â  Â  position: relative;
Â  Â  Â  display: grid;
Â  Â  Â  place-items: center;
Â  Â  Â  color: rgba(26,15,7,0.5);
Â  Â  Â  font-weight: 800;
Â  Â  Â  font-size: 24px;
Â  Â  }
Â  Â  .category-image img { width: 100%; height: 100%; object-fit: cover; }
Â  Â  .category-count { color: var(--muted); font-size: 13px; }

Â  Â  .breadcrumb {
Â  Â  Â  display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 14px; margin-bottom: 14px;
Â  Â  }
Â  Â  .breadcrumb button { background: none; border: none; color: var(--accent); cursor: pointer; font-weight: 600; }

Â  Â  .product-grid { display: grid; gap: 14px; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); }
Â  Â  .card {
Â  Â  Â  background: var(--card);
Â  Â  Â  border: 1px solid rgba(255,255,255,0.07);
Â  Â  Â  border-radius: var(--radius);
Â  Â  Â  padding: 14px;
Â  Â  Â  box-shadow: var(--shadow);
Â  Â  Â  display: grid; gap: 10px;
Â  Â  }
Â  Â  .product-img {
Â  Â  Â  height: 160px; border-radius: 14px; overflow: hidden; position: relative;
Â  Â  Â  background: linear-gradient(135deg, rgba(249,211,127,0.18), rgba(240,139,45,0.18));
Â  Â  }
Â  Â  .product-img img { width: 100%; height: 100%; object-fit: cover; }
Â  Â  .product-img::after {
Â  Â  Â  content:"MercÃªs"; position: absolute; inset: 0; display: grid; place-items: center;
Â  Â  Â  font-family: 'Playfair Display', serif; font-size: 28px; letter-spacing: 0.12em; color: rgba(26,15,7,0.18); font-weight: 700;
Â  Â  }
Â  Â  .pill { position: absolute; top: 10px; left: 10px; background: rgba(0,0,0,0.4); color: #f9d37f; padding: 6px 10px; border-radius: 999px; font-size: 12px; font-weight: 700; letter-spacing: 0.04em; }
Â  Â  .product-header { display: flex; justify-content: space-between; gap: 8px; align-items: center; }
Â  Â  .product-name { font-weight: 800; font-size: 17px; }
Â  Â  .product-price { color: var(--accent); font-weight: 800; }
Â  Â  .muted { color: var(--muted); font-size: 14px; line-height: 1.5; }
Â  Â  .stock { font-size: 13px; color: #92f7be; }
Â  Â  .card-actions { display: flex; gap: 8px; align-items: center; justify-content: space-between; }

Â  Â  .panel { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); border-radius: 20px; padding: 16px; box-shadow: var(--shadow); }
Â  Â  .cart-empty { color: var(--muted); padding: 14px; text-align: center; }
Â  Â  .cart-item { display: grid; grid-template-columns: 1fr auto; gap: 8px; padding: 12px; border-radius: 14px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.04); margin-bottom: 10px; }
Â  Â  .cart-item strong { display: block; font-size: 15px; }
Â  Â  .cart-meta { color: var(--muted); font-size: 13px; }
Â  Â  .cart-controls { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; justify-content: flex-end; }
Â  Â  .cart-controls button { padding: 8px 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.05); color: var(--text); cursor: pointer; }
Â  Â  .cart-controls button.danger { border-color: rgba(255,107,107,0.28); color: #ffaeae; }
Â  Â  .cart-footer { display: flex; flex-wrap: wrap; gap: 10px; justify-content: space-between; align-items: center; margin-top: 10px; }
Â  Â  .total { font-weight: 800; font-size: 18px; }

Â  Â  form { display: grid; gap: 12px; }
Â  Â  .form-grid { display: grid; gap: 10px; grid-template-columns: 1fr; }
Â  Â  @media(min-width: 720px) { .form-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
Â  Â  label { display: grid; gap: 6px; font-weight: 600; color: var(--text); }
Â  Â  input, select, textarea {
Â  Â  Â  width: 100%; padding: 12px 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.12);
Â  Â  Â  background: rgba(255,255,255,0.04); color: var(--text);
Â  Â  }
Â  Â  textarea { min-height: 90px; resize: vertical; }

Â  Â  .status { padding: 12px 14px; border-radius: 12px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); display: none; }
Â  Â  .status.ok { display: block; border-color: rgba(57,217,138,0.34); color: #b5ffd8; }
Â  Â  .status.err { display: block; border-color: rgba(255,107,107,0.34); color: #ffc2c2; }
Â  Â  .status button { margin-top: 8px; }
Â  Â  .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(20px); background: rgba(0,0,0,0.8); color: #fff; padding: 12px 16px; border-radius: 12px; opacity: 0; pointer-events: none; transition: .25s ease; box-shadow: 0 12px 26px rgba(0,0,0,0.4); z-index: 20; }
Â  Â  .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

Â  Â  .product-modal-overlay {
Â  Â  Â  position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);
Â  Â  Â  display: none; align-items: center; justify-content: center; padding: 16px; z-index: 40;
Â  Â  }
Â  Â  .product-modal-overlay.open { display: flex; }
Â  Â  .product-modal {
Â  Â  Â  width: min(640px, 100%); max-height: 90vh; overflow: auto;
Â  Â  Â  background: rgba(18,14,9,0.94); border: 1px solid rgba(255,255,255,0.1);
Â  Â  Â  border-radius: 20px; padding: 16px; box-shadow: var(--shadow); display: grid; gap: 12px;
Â  Â  }
Â  Â  .modal-img { height: 240px; border-radius: 16px; overflow: hidden; background: rgba(255,255,255,0.04); }
Â  Â  .modal-img img { width: 100%; height: 100%; object-fit: cover; }
Â  Â  .type-toggle { display: flex; gap: 8px; flex-wrap: wrap; }
Â  Â  .type-toggle button { border-radius: 999px; padding: 8px 14px; border: 1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.05); color: var(--muted); cursor: pointer; font-weight: 700; }
Â  Â  .type-toggle button.active { background: linear-gradient(135deg, #f9d37f, #f08b2d); color: #1b0f05; border-color: transparent; }
Â  Â  .qty-selector { display: flex; gap: 8px; align-items: center; }
Â  Â  .qty-selector button { padding: 8px 12px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.05); color: var(--text); cursor: pointer; }
Â  </style>
</head>
<body>
Â  <header>
Â  Â  <div class="topbar">
Â  Â  Â  <div class="brand">
Â  Â  Â  Â  <div class="brand-mark">MP</div>
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div style="font-size:15px;">MercÃªs Panificadora</div>
Â  Â  Â  Â  Â  <small style="color:var(--muted);">Padaria &amp; confeitaria premium</small>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  Â  <nav>
Â  Â  Â  Â  <a href="#home" class="nav-link">Home</a>
Â  Â  Â  Â  <a href="#produtos" class="nav-link">Produtos</a>
Â  Â  Â  Â  <a href="#carrinho" class="nav-link">Carrinho</a>
Â  Â  Â  Â  <a href="#pedido" class="nav-link">Pedido</a>
Â  Â  Â  </nav>
Â  Â  Â  <div class="header-search">
Â  Â  Â  Â  <input id="headerSearch" type="search" placeholder="Buscar produtos..." />
Â  Â  Â  </div>
Â  Â  Â  <button class="cart-button" id="goCart">
Â  Â  Â  Â  ðŸ›’ Carrinho
Â  Â  Â  Â  <span class="badge" id="cartBadge">0</span>
Â  Â  Â  </button>
Â  Â  </div>
Â  </header>

Â  <main>
Â  Â  <section id="home" class="hero">
Â  Â  Â  <div>
Â  Â  Â  Â  <div class="pill" style="position:static; width:fit-content;">Desde 1998</div>
Â  Â  Â  Â  <h1 class="hero-title">Sabor de tradiÃ§Ã£o com <span class="hero-highlight">acabamento premium</span>.</h1>
Â  Â  Â  Â  <p class="hero-text">ExperiÃªncia artesanal em pÃ£es, doces e salgados com logÃ­stica para eventos e empresas. PeÃ§a online, acompanhe o carrinho e combine entrega com nossa equipe.</p>
Â  Â  Â  Â  <div class="hero-actions">
Â  Â  Â  Â  Â  <button class="btn btn-primary" data-go="#produtos">Ver cardÃ¡pio</button>
Â  Â  Â  Â  Â  <button class="btn btn-secondary" data-go="#pedido">Fazer pedido</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  Â  <div class="card" style="text-align:center; display:grid; place-items:center; gap:12px;">
Â  Â  Â  Â  <div style="font-family:'Playfair Display',serif; font-size:30px; color:var(--accent);">Luxury Bake</div>
Â  Â  Â  Â  <div style="color:var(--muted); max-width:280px; line-height:1.6;">ProduÃ§Ã£o diÃ¡ria, ingredientes selecionados e atendimento dedicado para seu evento ou vitrine.</div>
Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="produtos">
Â  Â  Â  <h2 class="section-title">Produtos</h2>
Â  Â  Â  <p class="section-sub">Navegue por categorias, explore subcategorias e veja detalhes com escolha obrigatÃ³ria de tipo.</p>

Â  Â  Â  <div class="status" id="productsStatus"></div>

Â  Â  Â  <div id="viewCategories" class="view">
Â  Â  Â  Â  <div class="category-grid" id="categoryGrid"></div>
Â  Â  Â  </div>

Â  Â  Â  <div id="viewSubcategories" class="view">
Â  Â  Â  Â  <div class="breadcrumb" id="subcategoryBreadcrumb"></div>
Â  Â  Â  Â  <div class="subcategory-grid" id="subcategoryGrid"></div>
Â  Â  Â  </div>

Â  Â  Â  <div id="viewList" class="view">
Â  Â  Â  Â  <div class="breadcrumb" id="listBreadcrumb"></div>
Â  Â  Â  Â  <h3 id="listTitle" style="margin:0 0 12px;">Produtos</h3>
Â  Â  Â  Â  <div class="product-grid" id="productGrid"></div>
Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="carrinho">
Â  Â  Â  <h2 class="section-title">Carrinho</h2>
Â  Â  Â  <p class="section-sub">Use o botÃ£o do topo para abrir o carrinho e acompanhar seus itens.</p>
Â  Â  Â  <div class="panel" style="text-align:center; color:var(--muted);">
Â  Â  Â  Â  O carrinho abre como um painel lateral para vocÃª ajustar quantidades e finalizar com conforto.
Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <section id="pedido">
Â  Â  Â  <h2 class="section-title">Fazer Pedido</h2>
Â  Â  Â  <p class="section-sub">Preencha os dados e enviaremos seu pedido completo para nossa equipe.</p>
Â  Â  Â  <form id="orderForm" class="panel">
Â  Â  Â  Â  <div class="form-grid">
Â  Â  Â  Â  Â  <label>Nome / Empresa
Â  Â  Â  Â  Â  Â  <input type="text" name="nome" required placeholder="Ex: Ana - CafÃ© do Centro" />
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>WhatsApp
Â  Â  Â  Â  Â  Â  <input type="tel" name="whatsapp" required placeholder="(41) 99999-0000" />
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>Cidade
Â  Â  Â  Â  Â  Â  <input type="text" name="cidade" required placeholder="Curitiba" />
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>EndereÃ§o completo
Â  Â  Â  Â  Â  Â  <input type="text" name="endereco" required placeholder="Rua, nÃºmero, bairro, referÃªncia" />
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>Data da entrega
Â  Â  Â  Â  Â  Â  <input type="date" name="dataEntrega" required />
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>Hora da entrega
Â  Â  Â  Â  Â  Â  <input type="time" name="horaEntrega" required />
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>Pagamento
Â  Â  Â  Â  Â  Â  <select name="pagamento" required>
Â  Â  Â  Â  Â  Â  Â  <option value="CartÃ£o">CartÃ£o</option>
Â  Â  Â  Â  Â  Â  Â  <option value="Pix">Pix</option>
Â  Â  Â  Â  Â  Â  Â  <option value="Dinheiro">Dinheiro</option>
Â  Â  Â  Â  Â  Â  Â  <option value="Faturar">Faturar</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>Frete (opcional)
Â  Â  Â  Â  Â  Â  <input type="text" name="frete" placeholder="Ex: a combinar" />
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  <label>ObservaÃ§Ã£o
Â  Â  Â  Â  Â  Â  <textarea name="observacao" placeholder="Ponto de referÃªncia, alergias, instruÃ§Ãµes"></textarea>
Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button type="submit" class="btn btn-primary" style="width:fit-content;">Enviar pedido completo</button>
Â  Â  Â  Â  <div class="status" id="statusBox"></div>
Â  Â  Â  </form>
Â  Â  </section>
Â  </main>

Â  <div class="cart-overlay" id="cartOverlay">
Â  Â  <div class="cart-drawer" role="dialog" aria-label="Carrinho de compras">
Â  Â  Â  <div class="drawer-head">
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div style="font-weight:800;">Seu carrinho</div>
Â  Â  Â  Â  Â  <small style="color:var(--muted);">Revise antes de enviar o pedido</small>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button class="drawer-close" id="btnCloseCart">âœ•</button>
Â  Â  Â  </div>
Â  Â  Â  <div class="drawer-body" id="cartList"></div>
Â  Â  Â  <div class="drawer-actions">
Â  Â  Â  Â  <div class="total" id="cartTotal">Total: R$ 0,00</div>
Â  Â  Â  Â  <div style="display:flex; gap:8px;">
Â  Â  Â  Â  Â  <button class="btn btn-secondary" id="btnClear">Limpar carrinho</button>
Â  Â  Â  Â  Â  <button class="btn btn-primary" data-go="#pedido" id="btnCheckout">Fazer pedido</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <div class="product-modal-overlay" id="productModalOverlay">
Â  Â  <div class="product-modal" role="dialog" aria-label="Detalhe do produto">
Â  Â  Â  <div class="drawer-head">
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  <div style="font-weight:800;" id="modalTitle">Detalhe do produto</div>
Â  Â  Â  Â  Â  <small style="color:var(--muted);" id="modalSubtitle"></small>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button class="drawer-close" id="btnCloseModal">âœ•</button>
Â  Â  Â  </div>
Â  Â  Â  <div class="modal-img" id="modalImage"></div>
Â  Â  Â  <div class="muted" id="modalDescription"></div>
Â  Â  Â  <div class="muted" id="modalIngredients"></div>
Â  Â  Â  <div style="display:flex; gap:12px; flex-wrap:wrap;">
Â  Â  Â  Â  <div class="product-price" id="modalPrice"></div>
Â  Â  Â  Â  <div class="stock" id="modalStock"></div>
Â  Â  Â  </div>
Â  Â  Â  <div class="muted" id="modalEncomenda"></div>
Â  Â  Â  <div>
Â  Â  Â  Â  <div style="font-weight:700; margin-bottom:8px;">Tipo disponÃ­vel</div>
Â  Â  Â  Â  <div class="type-toggle" id="modalTypeToggle"></div>
Â  Â  Â  </div>
Â  Â  Â  <div style="display:flex; justify-content: space-between; align-items:center; gap:12px; flex-wrap:wrap;">
Â  Â  Â  Â  <div class="qty-selector">
Â  Â  Â  Â  Â  <button type="button" id="modalQtyDec">-</button>
Â  Â  Â  Â  Â  <span id="modalQty">1</span>
Â  Â  Â  Â  Â  <button type="button" id="modalQtyInc">+</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <button class="btn btn-primary" id="modalAdd">Adicionar ao carrinho</button>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <div class="toast" id="toast">Adicionado ao carrinho</div>

Â  <script>
Â  Â  const productGrid = document.getElementById('productGrid');
Â  Â  const categoryGrid = document.getElementById('categoryGrid');
Â  Â  const subcategoryGrid = document.getElementById('subcategoryGrid');
Â  Â  const subcategoryBreadcrumb = document.getElementById('subcategoryBreadcrumb');
Â  Â  const listBreadcrumb = document.getElementById('listBreadcrumb');
Â  Â  const listTitle = document.getElementById('listTitle');
Â  Â  const cartList = document.getElementById('cartList');
Â  Â  const cartTotal = document.getElementById('cartTotal');
Â  Â  const cartBadge = document.getElementById('cartBadge');
Â  Â  const cartOverlay = document.getElementById('cartOverlay');
Â  Â  const btnCloseCart = document.getElementById('btnCloseCart');
Â  Â  const statusBox = document.getElementById('statusBox');
Â  Â  const productsStatus = document.getElementById('productsStatus');
Â  Â  const toast = document.getElementById('toast');
Â  Â  const headerSearch = document.getElementById('headerSearch');

Â  Â  const modalOverlay = document.getElementById('productModalOverlay');
Â  Â  const modalTitle = document.getElementById('modalTitle');
Â  Â  const modalSubtitle = document.getElementById('modalSubtitle');
Â  Â  const modalImage = document.getElementById('modalImage');
Â  Â  const modalDescription = document.getElementById('modalDescription');
Â  Â  const modalIngredients = document.getElementById('modalIngredients');
Â  Â  const modalPrice = document.getElementById('modalPrice');
Â  Â  const modalStock = document.getElementById('modalStock');
Â  Â  const modalEncomenda = document.getElementById('modalEncomenda');
Â  Â  const modalTypeToggle = document.getElementById('modalTypeToggle');
Â  Â  const modalQty = document.getElementById('modalQty');
Â  Â  const modalQtyDec = document.getElementById('modalQtyDec');
Â  Â  const modalQtyInc = document.getElementById('modalQtyInc');
Â  Â  const modalAdd = document.getElementById('modalAdd');
Â  Â  const btnCloseModal = document.getElementById('btnCloseModal');

Â  Â  const viewCategories = document.getElementById('viewCategories');
Â  Â  const viewSubcategories = document.getElementById('viewSubcategories');
Â  Â  const viewList = document.getElementById('viewList');

Â  Â  const STORAGE_KEY = 'mp-cart';
Â  Â  const PRODUCTS_ENDPOINT = 'https://script.google.com/macros/s/AKfycbyiWJ8VUDflilFlhHHuXR5rorP2j9JjNuoszqEqPN-sN6BjuiklyUt4_6DRD3e1QyT7/exec';
Â  Â  const ORDER_ENDPOINT = 'https://script.google.com/macros/s/AKfycbyiWJ8VUDflilFlhHHuXR5rorP2j9JjNuoszqEqPN-sN6BjuiklyUt4_6DRD3e1QyT7/exec';

Â  Â  const cart = [];
Â  Â  let allProducts = [];
Â  Â  let activeProduct = null;
Â  Â  let activeType = '';
Â  Â  let activeQty = 1;

Â  Â  const formatMoney = (v) => v.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

Â  Â  const persistCart = () => {
Â  Â  Â  localStorage.setItem(STORAGE_KEY, JSON.stringify(cart));
Â  Â  };

Â  Â  const restoreCart = () => {
Â  Â  Â  try {
Â  Â  Â  Â  const stored = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
Â  Â  Â  Â  if (Array.isArray(stored)) {
Â  Â  Â  Â  Â  cart.length = 0;
Â  Â  Â  Â  Â  stored.forEach(item => cart.push(item));
Â  Â  Â  Â  }
Â  Â  Â  } catch (err) {
Â  Â  Â  Â  cart.length = 0;
Â  Â  Â  }
Â  Â  };

Â  Â  const showToast = (text) => {
Â  Â  Â  toast.textContent = text;
Â  Â  Â  toast.classList.add('show');
Â  Â  Â  setTimeout(() => toast.classList.remove('show'), 1600);
Â  Â  };

Â  Â  const updateBadge = () => {
Â  Â  Â  const total = cart.reduce((sum, item) => sum + item.qtd, 0);
Â  Â  Â  cartBadge.textContent = total;
Â  Â  };

Â  Â  const renderCart = () => {
Â  Â  Â  updateBadge();
Â  Â  Â  if (!cart.length) {
Â  Â  Â  Â  cartList.innerHTML = '<div class="cart-empty">Carrinho vazio</div>';
Â  Â  Â  Â  cartTotal.textContent = 'Total: R$ 0,00';
Â  Â  Â  Â  persistCart();
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  cartList.innerHTML = '';
Â  Â  Â  let total = 0;
Â  Â  Â  cart.forEach((item, index) => {
Â  Â  Â  Â  total += item.preco * item.qtd;
Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  div.className = 'cart-item';
Â  Â  Â  Â  div.innerHTML = `
Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  <strong>${item.nome}</strong>
Â  Â  Â  Â  Â  Â  <div class="cart-meta">${item.categoria} Â· ${item.subcategoria || 'Sem subcategoria'} Â· ${item.tipo} Â· ${item.qtd} un Â· ${formatMoney(item.preco)}</div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <div class="cart-controls">
Â  Â  Â  Â  Â  Â  <button data-action="dec" data-index="${index}">-</button>
Â  Â  Â  Â  Â  Â  <span>${item.qtd}</span>
Â  Â  Â  Â  Â  Â  <button data-action="inc" data-index="${index}">+</button>
Â  Â  Â  Â  Â  Â  <button data-action="remove" data-index="${index}" class="danger">remover</button>
Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  cartList.appendChild(div);
Â  Â  Â  });
Â  Â  Â  cartTotal.textContent = `Total: ${formatMoney(total)}`;
Â  Â  Â  persistCart();
Â  Â  };

Â  Â  const openCart = () => {
Â  Â  Â  cartOverlay.classList.add('open');
Â  Â  };

Â  Â  const closeCart = () => {
Â  Â  Â  cartOverlay.classList.remove('open');
Â  Â  };

Â  Â  const openModal = () => {
Â  Â  Â  modalOverlay.classList.add('open');
Â  Â  };

Â  Â  const closeModal = () => {
Â  Â  Â  modalOverlay.classList.remove('open');
Â  Â  Â  activeProduct = null;
Â  Â  Â  activeType = '';
Â  Â  Â  activeQty = 1;
Â  Â  Â  modalQty.textContent = '1';
Â  Â  };

Â  Â  const addToCart = (product, qtd, tipo) => {
Â  Â  Â  const key = `${product.id}-${tipo}`;
Â  Â  Â  const exists = cart.find(i => i.key === key);
Â  Â  Â  if (exists) {
Â  Â  Â  Â  exists.qtd += qtd;
Â  Â  Â  } else {
Â  Â  Â  Â  cart.push({
Â  Â  Â  Â  Â  key,
Â  Â  Â  Â  Â  id: product.id,
Â  Â  Â  Â  Â  categoria: product.categoria,
Â  Â  Â  Â  Â  subcategoria: product.subcategoria,
Â  Â  Â  Â  Â  nome: product.nome,
Â  Â  Â  Â  Â  ingredientes: product.ingredientes,
Â  Â  Â  Â  Â  preco: product.preco,
Â  Â  Â  Â  Â  tipo,
Â  Â  Â  Â  Â  qtd
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  Â  renderCart();
Â  Â  Â  showToast('Adicionado ao carrinho');
Â  Â  Â  openCart();
Â  Â  };

Â  Â  const showView = (view) => {
Â  Â  Â  [viewCategories, viewSubcategories, viewList].forEach(el => el.classList.remove('active'));
Â  Â  Â  view.classList.add('active');
Â  Â  };

Â  Â  const parseHash = () => {
Â  Â  Â  const hash = window.location.hash || '#produtos';
Â  Â  Â  const [path, queryString] = hash.split('?');
Â  Â  Â  const params = new URLSearchParams(queryString || '');
Â  Â  Â  return { path, params };
Â  Â  };

Â  Â  const setHash = (path, params = {}) => {
Â  Â  Â  const search = new URLSearchParams(params);
Â  Â  Â  const query = search.toString();
Â  Â  Â  window.location.hash = query ? `${path}?${query}` : path;
Â  Â  };

Â  Â  const buildCategoryCards = () => {
Â  Â  Â  const categoriesMap = {};
Â  Â  Â  allProducts.forEach(product => {
Â  Â  Â  Â  if (!categoriesMap[product.categoria]) {
Â  Â  Â  Â  Â  categoriesMap[product.categoria] = {
Â  Â  Â  Â  Â  Â  nome: product.categoria,
Â  Â  Â  Â  Â  Â  count: 0,
Â  Â  Â  Â  Â  Â  image: product.categoria_imagem_url || ''
Â  Â  Â  Â  Â  };
Â  Â  Â  Â  }
Â  Â  Â  Â  categoriesMap[product.categoria].count += 1;
Â  Â  Â  Â  if (!categoriesMap[product.categoria].image && product.categoria_imagem_url) {
Â  Â  Â  Â  Â  categoriesMap[product.categoria].image = product.categoria_imagem_url;
Â  Â  Â  Â  }
Â  Â  Â  });

Â  Â  Â  categoryGrid.innerHTML = '';
Â  Â  Â  Object.values(categoriesMap)
Â  Â  Â  Â  .sort((a, b) => a.nome.localeCompare(b.nome))
Â  Â  Â  Â  .forEach(category => {
Â  Â  Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  Â  Â  card.className = 'category-card';
Â  Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  Â  <div class="category-image">
Â  Â  Â  Â  Â  Â  Â  ${category.image ? `<img src="${category.image}" alt="${category.nome}">` : `<span>${category.nome.slice(0, 1)}</span>`}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="font-weight:800;">${category.nome}</div>
Â  Â  Â  Â  Â  Â  <div class="category-count">${category.count} itens</div>
Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  card.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  setHash('#produtos/categoria', { cat: category.nome });
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  categoryGrid.appendChild(card);
Â  Â  Â  Â  });
Â  Â  };

Â  Â  const buildSubcategoryCards = (category) => {
Â  Â  Â  const subMap = {};
Â  Â  Â  allProducts.filter(p => p.categoria === category).forEach(product => {
Â  Â  Â  Â  const key = product.subcategoria || 'Sem subcategoria';
Â  Â  Â  Â  if (!subMap[key]) {
Â  Â  Â  Â  Â  subMap[key] = {
Â  Â  Â  Â  Â  Â  nome: key,
Â  Â  Â  Â  Â  Â  count: 0,
Â  Â  Â  Â  Â  Â  image: product.subcategoria_imagem_url || ''
Â  Â  Â  Â  Â  };
Â  Â  Â  Â  }
Â  Â  Â  Â  subMap[key].count += 1;
Â  Â  Â  Â  if (!subMap[key].image && product.subcategoria_imagem_url) {
Â  Â  Â  Â  Â  subMap[key].image = product.subcategoria_imagem_url;
Â  Â  Â  Â  }
Â  Â  Â  });

Â  Â  Â  subcategoryGrid.innerHTML = '';
Â  Â  Â  Object.values(subMap)
Â  Â  Â  Â  .sort((a, b) => a.nome.localeCompare(b.nome))
Â  Â  Â  Â  .forEach(sub => {
Â  Â  Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  Â  Â  card.className = 'category-card';
Â  Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  Â  <div class="category-image">
Â  Â  Â  Â  Â  Â  Â  ${sub.image ? `<img src="${sub.image}" alt="${sub.nome}">` : `<span>${sub.nome.slice(0, 1)}</span>`}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div style="font-weight:800;">${sub.nome}</div>
Â  Â  Â  Â  Â  Â  <div class="category-count">${sub.count} itens</div>
Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  card.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  setHash('#produtos/lista', { cat: category, sub: sub.nome });
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  subcategoryGrid.appendChild(card);
Â  Â  Â  Â  });
Â  Â  };

Â  Â  const renderProductCards = (products) => {
Â  Â  Â  productGrid.innerHTML = '';

Â  Â  Â  if (!products.length) {
Â  Â  Â  Â  productGrid.innerHTML = '<div class="panel" style="text-align:center; color:var(--muted);">Nenhum produto encontrado.</div>';
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  products.forEach((p) => {
Â  Â  Â  Â  const card = document.createElement('article');
Â  Â  Â  Â  card.className = 'card';
Â  Â  Â  Â  card.innerHTML = `
Â  Â  Â  Â  Â  <div class="product-img">
Â  Â  Â  Â  Â  Â  <span class="pill">${p.tipo_disponivel}</span>
Â  Â  Â  Â  Â  Â  ${p.imagem_url ? `<img src="${p.imagem_url}" alt="${p.nome}">` : ''}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <div class="product-header">
Â  Â  Â  Â  Â  Â  <div class="product-name">${p.nome}</div>
Â  Â  Â  Â  Â  Â  <div class="product-price">${formatMoney(p.preco)}</div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <div class="muted">${p.descricao_curta || 'DescriÃ§Ã£o indisponÃ­vel no momento.'}</div>
Â  Â  Â  Â  Â  <div class="muted">${p.ingredientes || 'Ingredientes sob consulta.'}</div>
Â  Â  Â  Â  Â  <div class="stock">Estoque: ${p.estoque_pronta_entrega} unid.</div>
Â  Â  Â  Â  Â  <div class="card-actions">
Â  Â  Â  Â  Â  Â  <span class="muted">${p.categoria} Â· ${p.subcategoria || 'Sem subcategoria'}</span>
Â  Â  Â  Â  Â  Â  <button class="btn btn-secondary" data-open="${p.id}">Ver</button>
Â  Â  Â  Â  Â  </div>`;
Â  Â  Â  Â  productGrid.appendChild(card);
Â  Â  Â  });
Â  Â  };

Â  Â  const renderListView = ({ category, subcategory, searchTerm }) => {
Â  Â  Â  let list = [...allProducts];

Â  Â  Â  if (searchTerm) {
Â  Â  Â  Â  const term = searchTerm.toLowerCase();
Â  Â  Â  Â  list = list.filter(p =>
Â  Â  Â  Â  Â  p.nome.toLowerCase().includes(term) ||
Â  Â  Â  Â  Â  (p.ingredientes || '').toLowerCase().includes(term) ||
Â  Â  Â  Â  Â  (p.descricao_curta || '').toLowerCase().includes(term) ||
Â  Â  Â  Â  Â  (p.categoria || '').toLowerCase().includes(term) ||
Â  Â  Â  Â  Â  (p.subcategoria || '').toLowerCase().includes(term)
Â  Â  Â  Â  );
Â  Â  Â  Â  listTitle.textContent = `Resultados para: ${searchTerm}`;
Â  Â  Â  Â  listBreadcrumb.innerHTML = `
Â  Â  Â  Â  Â  <span>Produtos</span>
Â  Â  Â  Â  Â  <span>â€º</span>
Â  Â  Â  Â  Â  <span>Resultados</span>
Â  Â  Â  Â  Â  <button type="button" id="backToCategories">Voltar</button>
Â  Â  Â  Â  `;
Â  Â  Â  } else {
Â  Â  Â  Â  list = list.filter(p => p.categoria === category && (subcategory ? (p.subcategoria || 'Sem subcategoria') === subcategory : true));
Â  Â  Â  Â  listTitle.textContent = `${category}${subcategory ? ' Â· ' + subcategory : ''}`;
Â  Â  Â  Â  listBreadcrumb.innerHTML = `
Â  Â  Â  Â  Â  <button type="button" id="backToCategories">Produtos</button>
Â  Â  Â  Â  Â  <span>â€º</span>
Â  Â  Â  Â  Â  <button type="button">`;
      }
      renderProductCards(list);
    };
 </script>
</body>
</html>